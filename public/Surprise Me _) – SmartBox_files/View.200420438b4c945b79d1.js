(window.klaviyoOnsiteJSONP=window.klaviyoOnsiteJSONP||[]).push([[5],{"../forms/src/Client/Components/FormComponents/Label.js":function(e,t,n){"use strict";n("../../node_modules/core-js/modules/es6.symbol.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es6.array.iterator.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/es6.object.keys.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=(n("../../node_modules/prop-types/index.js"),n("../forms/src/Client/Components/ResetElements/index.tsx"));function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a=Object(o.c)(i.g).attrs((function(e){return{theme:e.theme.inputStyles.textStyles}})).withConfig({displayName:"Label__StyledLabel",componentId:"j8cw4i-0"})(["&&{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;padding-bottom:6px;}"],(function(e){return e.theme.color}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontSize}),(function(e){return e.theme.labelFontWeight}),(function(e){return e.theme.letterSpacing})),u=function(e){var t=e.children,n=c(e,["children"]);return t?r.default.createElement(a,n," ",t):null};u.defaultProps={children:null},t.a=u},"../forms/src/Client/Components/FormComponents/ValidationMessage.js":function(e,t,n){"use strict";n("../../node_modules/core-js/modules/es6.string.starts-with.js"),n("../../node_modules/core-js/modules/es6.array.find.js"),n("../../node_modules/core-js/modules/es6.regexp.replace.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../forms/node_modules/react-redux/es/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),c=(n("../../node_modules/prop-types/index.js"),n("../../node_modules/lodash-es/isEqual.js")),a=n("../forms/src/Client/Components/ResetElements/index.tsx"),u=n("../forms/src/Client/formValidation/isRequired.ts"),s=n("../forms/src/Client/formValidation/email.ts"),l=n("../forms/src/Client/formValidation/date.ts"),f=n("../forms/src/Client/formValidation/phoneNumber.ts"),p=n("../forms/src/Constants/components.ts"),d=n("../forms/src/Store/selectors/openFormVersions.js"),m=n("../forms/src/Store/selectors/formVersions.js"),y=Object(i.c)(a.b).withConfig({displayName:"ValidationMessage__Container",componentId:"sc-1agouhi-0"})(["&&{width:100%;position:relative;}"]),b=Object(i.c)(a.b).withConfig({displayName:"ValidationMessage__ValidationContainer",componentId:"sc-1agouhi-1"})(["&&{border-radius:4px;box-shadow:1px 1px 4px 0 rgba(0,0,0,0.26);border:1px solid ",";background-color:rgb(248,236,233);&:after,&:before{content:'';display:block;position:absolute;width:0;height:0;border-style:solid;}&:after{",";left:8px;border-width:8px;}&:before{border-width:9px;left:7px;",";}}"],(function(e){return e.theme.inputStyles.textStyles.errorColor}),(function(e){return e.validateTop?"\n        bottom: -15px;\n        border-color: rgb(248, 236, 233) transparent transparent transparent;\n      ":"\n        top: -15px;\n        border-color: transparent transparent rgb(248, 236, 233) transparent;\n    "}),(function(e){var t=e.validateTop,n=e.theme;return t?"\n        bottom: -17px;\n        border-color: ".concat(n.inputStyles.textStyles.errorColor," transparent transparent transparent;\n      "):"\n        top: -17px;\n        border-color: transparent transparent ".concat(n.inputStyles.textStyles.errorColor," transparent;\n    ")})),h=Object(i.c)(a.b).withConfig({displayName:"ValidationMessage__ValidationContainerOuter",componentId:"sc-1agouhi-2"})(["&&{background-color:white;position:absolute;z-index:1;",";right:0;border-radius:4px;-webkit-animation:fadein 0.4s;-moz-animation:fadein 0.4s;-ms-animation:fadein 0.4s;-o-animation:fadein 0.4s;animation:fadein 0.4s;@keyframes fadein{from{opacity:0;}to{opacity:1;}}@-moz-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-webkit-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-ms-keyframes fadein{from{opacity:0;}to{opacity:1;}}}"],(function(e){return e.validateTop?"bottom: 47px":"top: 9px"})),g=Object(i.c)(a.i).withConfig({displayName:"ValidationMessage__FormStyledValidationMessage",componentId:"sc-1agouhi-3"})(["&&{font-size:14px;padding:8px;font-family:",";color:",";}"],(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.errorColor})),v=function(e){var t=e.componentInstance,n=e.componentAriaID,o=e.validateTop;return r.default.createElement(y,null,null!==t&&t.validationErrorType&&r.default.createElement(h,{validateTop:o},r.default.createElement(b,{validateTop:o},r.default.createElement(g,{role:"alert",id:n},function(e){var t=e.validationErrorType,n=e.metadata;switch(t){case u.b:return"This field is required";case s.b:return"Please enter a valid email address";case l.b:return"Please enter a valid date format (".concat(p.d.find((function(e){var t=e.value;return Object(c.a)(t,n.format)})).label.replace(/ /g,n.delimiter),")");case f.b:return"Please enter a valid phone number";default:return""}}(t)))))};v.defaultProps={componentInstance:null};var O=Object(o.b)((function(e,t){var n=t.formVersionCId,r=d.h(e,n),o=m.c(e,r);return{validateTop:!!o&&!!o.startsWith("BOTTOM")}}),null)(v);t.a=O},"../forms/src/Client/Components/ResetElements/CleaveInput.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("../../node_modules/core-js/modules/es6.object.assign.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../forms/src/Constants/components.ts");function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=r.default.lazy((function(){return n.e(13).then(n.t.bind(null,"../../node_modules/cleave.js/react.js",7))})),a=function(e){return r.default.createElement(c,i({},e,{className:"needsclick ".concat(e.className," ").concat(o.m)}))}},"../forms/src/Client/Components/View/View.js":function(e,t,n){"use strict";n.r(t);n("../../node_modules/core-js/modules/es6.promise.js"),n("../../node_modules/core-js/modules/es6.object.to-string.js"),n("../../node_modules/core-js/modules/es6.object.assign.js"),n("../forms/node_modules/regenerator-runtime/runtime.js");var r=n("../../node_modules/preact/compat/dist/compat.module.js"),o=n("../forms/node_modules/react-redux/es/index.js"),i=n("../../node_modules/lodash-es/pick.js"),c=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=(n("../../node_modules/prop-types/index.js"),n("../forms/src/Store/selectors/views.js")),u=n("../forms/src/Store/selectors/columns.js"),s=(n("../../node_modules/core-js/modules/es7.object.get-own-property-descriptors.js"),n("../../node_modules/core-js/modules/es6.symbol.js"),n("../../node_modules/core-js/modules/web.dom.iterable.js"),n("../../node_modules/core-js/modules/es6.array.iterator.js"),n("../../node_modules/core-js/modules/es6.object.keys.js"),n("../../node_modules/lodash-es/merge.js")),l=n("../forms/src/Store/selectors/client.js"),f=n("../forms/src/Store/selectors/components.js"),p=n("../forms/src/Constants/defaultTheme/index.ts"),d=n("../forms/src/Constants/components.ts");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var g=function(e){return function(e){return d.h.has(e)}(e)?"inputStyles":p.a[e]},v={},O=function(e,t){if(!Object(l.d)(e)&&t in v)return v[t];var n=function(e){if(!e||!e.inputStyles)return e;var t=e.inputStyles,n=t.textStyles,r=void 0===n?{}:n,o=t.focusColor,i=t.border,c=t.inputBackgroundColor,a=h(t,["textStyles","focusColor","border","inputBackgroundColor"]);return y(y({focusColor:o},h(e,["inputStyles"])),{},{inputStyles:{border:i,inputBackgroundColor:c,textStyles:y(y({},a),r)}})}(Object(a.c)(e,t));return v[t]=Object(s.a)({},p.c,n),v[t]},j={},w=function(e,t,n){if(!Object(l.d)(e)&&n in j)return j[n];var r=Object(f.f)(e,n),o=p.a[r],i=O(e,t),c=p.b[o],a=Object(f.e)(e,n);return j[n]=Object(s.a)({},b({},g(r),c),{inputStyles:i.inputStyles},b({},g(r),a)),j[n]},S=n("../forms/src/Store/selectors/formVersions.js"),_=n("../forms/src/Store/selectors/actions.js"),I=n("../forms/src/Store/index.js"),C=(n("../../node_modules/core-js/modules/es7.symbol.async-iterator.js"),n("../../node_modules/core-js/modules/es6.regexp.to-string.js"),n("../../node_modules/core-js/modules/es6.reflect.construct.js"),n("../forms/src/Store/actions/loadForm.js")),x=n("../forms/src/Constants/actions.ts"),k=n("../forms/src/Utils/debug.ts");function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentHandlerStep="INSTANTIATED"}var t,n,r;return t=e,(n=[{key:"runAction",value:function(){var e=this;return this.currentHandlerStep="PREHANDLER",new Promise((function(e){return e()})).then((function(t){return e.__preHandler(t)})).then((function(t){return e.currentHandlerStep="HANDLER",t})).then((function(t){return e.__handler(t)})).then((function(t){return e.currentHandlerStep="POSTHANDLER",t})).then((function(t){return e.__postHandler(t)})).catch((function(t){return e.__errorHandler(t)}))}},{key:"__preHandler",value:function(){}},{key:"__handler",value:function(){}},{key:"__postHandler",value:function(){}},{key:"__errorHandler",value:function(e){Object(k.a)(e.toString(),{formActionType:this.constructor.formActionType,currentHandlerStep:this.currentHandlerStep})}}])&&P(t.prototype,n),r&&P(t,r),e}();function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(i,e);var t,n,r,o=V(i);function i(e){var t,n=e.formVersionCId,r=e.actionId,c=e.isSubmit,a=A(e,["formVersionCId","actionId","isSubmit"]);return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,a)).formVersionCId=n,t.isSubmit=c,t.formAction=_.b(I.a.getState(),r),t}return t=i,(n=[{key:"__handler",value:function(){return I.a.dispatch(Object(C.c)(this.formVersionCId,!this.isSubmit))}}])&&R(t.prototype,n),r&&R(t,r),i}(E);H.formActionType=x.a;var W=H,q=n("../forms/src/Sentry.js"),z=n("../forms/src/Utils/errorTypes.js"),M=n("../forms/src/Utils/promise.ts"),L=n("../forms/src/Utils/onsiteApi/learnq.ts"),U=n("../config/lib/client.json"),B=n("../../node_modules/unfetch/dist/unfetch.mjs"),G=n("../forms/src/Utils/camelizeKeys.ts"),K="".concat(U.API.url,"/ajax/sms/subscribe_unique_id"),$=n("../forms/src/Store/selectors/openFormVersions.js"),J=(n("../../node_modules/core-js/modules/es6.string.iterator.js"),n("../../node_modules/core-js/modules/es6.array.from.js"),n("../../node_modules/core-js/modules/es6.function.name.js"),n("../../node_modules/core-js/modules/es7.object.entries.js"),n("../../node_modules/lodash-es/isNil.js")),X=n("../../node_modules/lodash-es/values.js");function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function(e,t){var n=t.fieldId,r=t.value;return Object(J.a)(r)||""===r||(e[n]=r),e};var ee=function(e,t,n){var r=Object($.c)(e,t),o=r.formVersionId,i=r.formId,c=r.currentViewId,u=r.components,l=Object(a.g)(e,c),p=Object(X.a)(u).reduce(Z,{}),d=Object(f.c)(e,n).metaFields.reduce(Z,{}),m=Object(s.a)({},l,d,p,{$consent_method:"Klaviyo Form",$consent_form_id:i,$consent_form_version:o});return m=Object.entries(m).reduce((function(e,t){var n=Y(t,2),r=n[0],o=n[1];return e[r]=function(e){try{var t=JSON.parse(e);if(t&&Array.isArray(t))return t}catch(e){}return e}(o),e}),{})},te=function(e,t){var n={},r=function(e,t){var n=Object($.e)(e,t)||{},r=Object.keys(n).reduce((function(t,n){var r=Object(f.c)(e,n)||{};return(Object(f.b)(e,n)||{}).componentType===d.j&&"$phone_number"===r.fieldId&&t.push(r.isUpdatingSMSConsent),t}),[]);return 1===r.length?r[0]:void 0}(e,t);return void 0!==r&&(n.sms_consent=r),n},ne=n("../forms/src/Store/actionTypes/index.js");var re=n("../forms/src/Store/actions/logMetricAsync.js"),oe=n("../forms/src/Store/actions/cookies.js"),ie=n("../forms/src/Client/formValidation/validateForm.js"),ce={baseStyle:function(e){var t=e.theme,n=e.disabled;return Object(c.b)(["cursor:",";font-family:",";text-decoration:none;:hover{text-decoration:",";}"],n?"default":"pointer",t.klFontFamily,!n&&"underline")},variants:{default:function(e){var t=e.theme,n=e.disabled;return Object(c.b)(["color:",";font-size:",";font-weight:",";"],n?t.klGray:t.klPrimary,t.klFontMedium,t.fontWeightNormal)},dataTable:function(e){var t=e.theme,n=e.disabled;return Object(c.b)(["color:",";font-size:",";font-weight:",";"],n?t.klGray:t.klPrimary,t.klFontMedium,t.fontWeightSemibold)},dataTableSubdued:function(e){var t=e.theme,n=e.disabled;return Object(c.b)(["color:",";font-size:",";font-weight:",";:hover{color:",";}"],n?t.klGray:t.klGrayDarkest,t.klFontMedium,t.fontWeightSemibold,!n&&t.klGrayDarkest)},caption:function(e){var t=e.theme,n=e.disabled;return Object(c.b)(["color:",";font-size:",";font-weight:",";"],n?t.klGray:t.klPrimary,t.klFontSmall,t.fontWeightNormal)},captionDanger:function(e){var t=e.theme,n=e.disabled;return Object(c.b)(["color:",";font-size:",";font-weight:",";:hover{color:",";}"],n?t.klGray:t.klDanger,t.klFontSmall,t.fontWeightNormal,t.klDanger)}}};function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var se=c.c.a.withConfig({displayName:"Link__StyledLink",componentId:"sc-16x1a8g-0"})(["",";",";"],ce.baseStyle,(function(e){var t=e.type;return ce.variants[void 0===t?"default":t]})),le=function(e){var t=e.disabled,n=e.href,o=e.onClick,i=ue(e,["disabled","href","onClick"]);return r.default.createElement(se,ae({href:t?void 0:n,onClick:t?void 0:o,disabled:t},i))};function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var de,me=Object(c.c)((function(e){var t=e.className,n=e.iconName,o=(e.iconSize,e.display,e.prefix),i=void 0===o?"kl":o,c=e.rotate,a=void 0===c?0:c,u=(e.color,pe(e,["className","iconName","iconSize","display","prefix","rotate","color"])),s=0!==a?"".concat(i,"-rotate-").concat(a):"",l="".concat(t," ").concat(i," ").concat(i,"-").concat(n," ").concat(s).trim();return r.default.createElement("i",fe({role:"img",className:l},u))})).withConfig({displayName:"Icon__StyledIcon",componentId:"t6tzq9-0"})(["&:before{font-size:",";display:",";",";}"],(function(e){return e.iconSize||e.theme.klFontMedium}),(function(e){return e.display||"inline-block"}),(function(e){var t=e.color,n=e.theme;return t?"color: ".concat(n[t]):""}));function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=Object(c.c)((function(e){return r.default.createElement(me,e)})).withConfig({displayName:"validations__LinkIcon",componentId:"sc-1qgkl04-0"})(["&&{padding-left:",";}"],(function(e){return e.theme.spacingXXSmall})),he=(ye(de={},"SNIPPET_EXISTS",{className:"heap-signup-forms heap-check-install-success",message:function(){return"Signup forms are successfully installed on your site"},variant:"success"}),ye(de,"SNIPPET_MISSING",{className:"heap-signup-forms heap-check-install-fail",message:function(){return r.default.createElement(r.default.Fragment,null,"Unable to detect that signup forms are successfully installed on your site. Please view the"," ",r.default.createElement(le,{href:"https://help.klaviyo.com/hc/en-us/articles/360002035871",target:"_blank"},"installation documentation"),".")},variant:"error"}),ye(de,"PASSWORD_PROTECTED",{className:"heap-signup-forms heap-check-install-password-protected",message:function(){return"Due to the password lock on your site, Klaviyo is unable to detect the signup form code on your site."},variant:"warning"}),ye(de,"SUBMIT_VALIDATION",{className:"heap-signup-forms heap-missing-submit",message:function(){return"An input field and a submit button are required for a visitor to submit the form. Consider changing the button action."},variant:"error"}),ye(de,"SMS_CONSENT_GUIDELINES",{className:"heap-signup-forms heap-sms-consent-guidelines",message:function(){return r.default.createElement(r.default.Fragment,null,"According to TCPA guidelines, you must make it clear to visitors what they are signing up for by providing SMS consent. Learn more about"," ",r.default.createElement(le,{href:"https://help.klaviyo.com/hc/en-us/articles/360035055312",target:"_blank"},"SMS consent best practices",r.default.createElement(be,{iconName:"external-link",iconSize:"small"})),".")},variant:"warning"}),ye(de,"ALL_CHECKS_SUCCESSFUL",{className:"heap-signup-forms heap-check-install-success",message:function(){return"All checks passed!"},variant:"success"}),n("../forms/src/Constants/metrics.ts")),ge="".concat(U.API.url).concat(U.API.submitToListPath);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(i,e);var t,n,r,o=Ie(i);function i(e){var t,n=e.formVersionCId,r=e.actionId,c=we(e,["formVersionCId","actionId"]);if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,c),!n||!r)throw new z.b("Cannot create SubmitFormAction\n      without a formVersionCId and actionId");t.formVersionCId=n,t.actionId=r;var a=I.a.getState();return t.formId=$.g(a,n),t.formAction=_.b(a,r),t.companyId=l.b(a),t.hiddenFieldsComponentId=f.d(a,r),t}return t=i,(n=[{key:"__preHandler",value:function(){return I.a.dispatch(Object(C.f)({formVersionCId:this.formVersionCId})),Object(ie.a)(this.formVersionCId).then((function(e){if(e.some((function(e){return!e.valid})))throw new z.c({type:"form"});return!0}))}},{key:"__handler",value:function(){var e=this,t=I.a.getState();this.composedFields=ee(t,this.formVersionCId,this.hiddenFieldsComponentId),Object(L.a)(this.composedFields);var n=te(t,this.formVersionCId);return Object.keys(n).forEach((function(t){e.composedFields[t]=n[t]})),this.__maybeRequestUniqueID(t),this.__submitToList()}},{key:"__maybeRequestUniqueID",value:function(e){f.a(e,$.h(e,this.formVersionCId))&&function(e){var t={method:"POST",headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(Object(G.b)(e))};return Object(B.a)(K,t).then((function(e){if(e.status>=500)throw Error("Error sending request: ".concat(e.url));return e})).then((function(e){return e.json()})).then(G.a)}({companyId:this.companyId,form_id:this.formId,email:this.composedFields.$email}).catch((function(){})).then((function(e){var t=e.data.uniqueId;void 0!==t&&I.a.dispatch(function(e){var t=e.uniqueId;return function(e){return e({type:ne.q,uniqueId:t})}}({uniqueId:t}))}))}},{key:"__submitHandlerCheck",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n,o=this.composedFields,i=this.formId,c=this.companyId,a=this.formAction;if(!t&&"List does not exist."!==r[0])throw I.a.dispatch(Object(C.h)({formVersionCId:this.formVersionCId,showErrorView:!0})),I.a.dispatch(Object(re.a)({metric:he.c,formId:i,companyId:c,submittedFields:o,listId:a.listId})),new z.a(r.join(" | "))}},{key:"__submitToList",value:function(){var e=this,t=this.composedFields,n=this.formId,r=this.companyId;return function(e){return Object(B.a)(ge,{method:"POST",headers:{"Access-Control-Allow-Headers":"*","Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:e.toString()})}(this.__makePOSTBody({composedFields:t})).then((function(e){return e.json()})).then((function(o){return o.success?(I.a.dispatch(Object(oe.a)({formId:n,successActionType:e.formAction.actionType})),Object(M.b)(200,I.a.dispatch(Object(re.a)({metric:he.h,logCustomEvent:!0,formId:n,companyId:r,submittedFields:t,action_type:"Submit Form"}))).then((function(){return o})).catch((function(){return o}))):o}))}},{key:"__makePOSTBody",value:function(e){var t=e.composedFields,n=new Date,r=t;"object"===je(window.Shopify)&&window.Shopify.shop&&(r.services=JSON.stringify({shopify:{source:"form"}}));var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({g:this.formAction.listId,$fields:Object.keys(r).toString(),$list_fields:Object.keys(r).filter((function(e){return Array.isArray(r[e])})).toString(),$timezone_offset:-n.getTimezoneOffset()/60},r),i=new URLSearchParams;return Object.keys(o).forEach((function(e){return Array.isArray(o[e])?o[e].forEach((function(t){return i.append(e,t)})):i.set(e,o[e])})),i}},{key:"__errorHandler",value:function(e){var t=this.composedFields,n=this.formId,r=this.companyId,o=this.formAction;if(E.prototype.__errorHandler.call(this,e),function(e){return[z.a,z.c].some((function(t){return e instanceof t}))}(e))throw e;I.a.dispatch(Object(C.h)({formVersionCId:this.formVersionCId,showErrorView:!0})),I.a.dispatch(Object(re.a)({metric:he.c,formId:n,companyId:r,submittedFields:t,listId:o.listId})),q.a.captureException(e,{tags:{onSubmit:!0},extra:{submitAction:!0,formId:this.formId,companyId:this.companyId}})}}])&&Se(t.prototype,n),r&&Se(t,r),i}(E);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(i,e);var t,n,r,o=Re(i);function i(){return Ee(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__postHandler",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n;return Object($.k)(I.a.getState(),this.formVersionCId)?(this.__submitHandlerCheck({success:t,errors:r}),I.a.dispatch(Object(C.h)({formVersionCId:this.formVersionCId,viewId:this.formAction.viewId}))):null}}])&&Te(t.prototype,n),r&&Te(t,r),i}(ke);Fe.formActionType=x.f;var Ne=Fe,He=(n("../../node_modules/core-js/modules/es6.regexp.replace.js"),n("../../node_modules/lodash-es/get.js"));function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Be(e);if(t){var o=Be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(i,e);var t,n,r,o=Le(i);function i(e){var t,n=e.formVersionCId,r=e.actionId,c=e.isSubmit,a=qe(e,["formVersionCId","actionId","isSubmit"]);if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),!n||!r)throw new z.b("Cannot create RedirectToUrlFormAction\n      without a formVersionCId and actionId");(t=o.call(this,a)).formVersionCId=n,t.actionId=r;var u=I.a.getState();return t.formId=$.g(u,n),t.formAction=_.b(u,r),t.companyId=l.b(u),t.redirectUrl=Object(He.a)(t.formAction,"data.redirectUrl","about:blank"),t.newWindow=Object(He.a)(t.formAction,"data.newWindow",!1)&&t.formAction.actionType===x.b,t.isSubmit=!!c,t}return t=i,(n=[{key:"__redirectUrl",value:function(){var e=this.redirectUrl.replace(/^javascript:/,"");this.newWindow&&this.formAction.actionType===x.b?window.open(e,"_blank").focus():window.location.assign(e)}},{key:"__handler",value:function(){var e=this,t=this.formId,n=this.newWindow;this.formAction.actionType===x.b&&I.a.dispatch(Object(oe.a)({formId:t,successActionType:x.b}));var r=I.a.dispatch(Object(re.a)({metric:he.g,logTelemetric:!this.isSubmit,logCustomEvent:!0,formId:this.formId,companyId:this.companyId,action_type:"Go to URL",destination_url:this.redirectUrl}));return n?(this.__redirectUrl(),r):Object(M.b)(200,r).then((function(){return e.__redirectUrl()})).catch((function(){return e.__redirectUrl()}))}}])&&ze(t.prototype,n),r&&ze(t,r),i}(E);Ge.formActionType=x.b;var Ke=Ge;function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(i,e);var t,n,r,o=Qe(i);function i(){return Je(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__postHandler",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n;this.__submitHandlerCheck({success:t,errors:r});var o=this.formVersionCId,i=this.actionId;return new Ke({formVersionCId:o,actionId:i,isSubmit:!0}).runAction()}}])&&Xe(t.prototype,n),r&&Xe(t,r),i}(ke);tt.formActionType=x.e;var nt=tt;function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(i,e);var t,n,r,o=at(i);function i(){return ot(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"__postHandler",value:function(e){var t=e.success,n=e.errors,r=void 0===n?[]:n;this.__submitHandlerCheck({success:t,errors:r});var o=this.formVersionCId,i=this.actionId;return new W({formVersionCId:o,actionId:i,isSubmit:!0}).runAction()}}])&&it(t.prototype,n),r&&it(t,r),i}(ke);lt.formActionType=x.d;var ft=lt,pt=function(e){return"This form is now set to display on Mobile devices only and subscribers will be routed to the list set on the "+"".concat(e.toLowerCase()," keyword.")},dt=function(e){return"".concat(e," Keyword")},mt=function(e){return"".concat(e," Message")};pt("Opt-in"),dt("Opt-in"),mt("Opt-in"),pt("Subscribe"),dt("Subscribe"),mt("Subscribe"),"".concat("subscribe-via-sms-","opt-in-keyword"),"".concat("subscribe-via-sms-","opt-in-message");function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var o=jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(i,e);var t,n,r,o=vt(i);function i(e){var t,n=e.formVersionCId,r=e.actionId,c=bt(e,["formVersionCId","actionId"]);!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,c);var a=I.a.getState();return t.formVersionCId=n,t.formAction=_.b(a,r),t.formId=$.g(a,n),t.companyId=l.b(a),t.toPhoneNumber=Object(He.a)(t.formAction,"data.toPhoneNumber"),t.optInMessage=Object(He.a)(t.formAction,"data.optInMessage")||"Send this text to subscribe to SMS updates!",t.optInKeyword=Object(He.a)(t.formAction,"data.optInKeyword","JOIN"),t}return t=i,(n=[{key:"__handler",value:function(){var e=l.c(I.a.getState()),t=function(e){return e&&6===e.length}(e)?"".concat(this.optInKeyword,":").concat(e):this.optInKeyword,n="sms:".concat(this.toPhoneNumber,"?&body=").concat(encodeURIComponent("".concat(this.optInMessage," (ref:").concat(t,")")));I.a.dispatch(Object(C.c)(this.formVersionCId));var r=I.a.dispatch(Object(re.a)({metric:he.i,logCustomEvent:!0,formId:this.formId,companyId:this.companyId,action_type:"Subscribe Via SMS",sms_keyword:this.optInKeyword,destination_url:n}));return Object(M.b)(200,r).then((function(){return window.location.assign(n)})).catch((function(){return window.location.assign(n)}))}}])&&ht(t.prototype,n),r&&ht(t,r),i}(E);wt.formActionType=x.g;var St,_t=wt;function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct,xt=(It(St={},W.formActionType,W),It(St,Ne.formActionType,Ne),It(St,Ke.formActionType,Ke),It(St,ft.formActionType,ft),It(St,nt.formActionType,nt),It(St,_t.formActionType,_t),St),kt=function(e){var t=e.actionId,n=_.c(I.a.getState(),t);return xt[n]},Pt=n("../forms/src/Constants/views.ts"),Et=n("../forms/src/Constants/formTypes.ts"),Tt=n("../forms/src/Store/selectors/rows.js"),At=n("../forms/src/Client/Components/ResetElements/index.tsx");function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Rt(Ct={},"left",{type:"side",index:0,showHover:!0}),Rt(Ct,"right",{type:"side",index:1,showHover:!0}),Rt(Ct,"top",{type:"row",index:0,showHover:!1}),Rt(Ct,"bottom",{type:"row",index:1,showHover:!1}),n("../../node_modules/core-js/modules/es6.string.ends-with.js");var Dt=n("../forms/src/Constants/designer.ts"),Vt=n("../forms/src/Constants/defaultTheme/formComponent.ts"),Ft=n("../forms/src/Store/actionTypes/designer/index.js"),Nt=n("../forms/src/Store/selectors/forms.js"),Ht=n("../forms/src/Store/selectors/designer.js"),Wt=Object(c.c)(At.b).withConfig({displayName:"ImagePlaceholder__PlaceholderBackground",componentId:"sc-1bw6zno-0"})(["&&{background-color:",";display:flex;justify-content:space-around;align-items:center;height:100px;width:100px;i{color:",";}}"],(function(e){return e.theme.klGrayLighter}),(function(e){return e.theme.klGray})),qt=function(){return r.default.createElement(Wt,null,r.default.createElement(me,{iconName:"picture-o",iconSize:"20px"}))};function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jt(e);if(t){var o=Jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(i,e);var t,n,r,o=Kt(i);function i(){var e;Ut(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).state={handlingFormAction:!1},e.tryFocusOnInvalidNode=function(){var t=document.querySelector(".klaviyo-form-version-cid_".concat(e.props.formVersionCId,' [aria-invalid="true"]'));t&&t.focus()},e.onClick=function(){var t=e.props,n=t.actionId,r=t.formVersionCId,o=kt({actionId:n}),i=new o({actionId:n,formVersionCId:r});x.c.has(o.formActionType)&&e.setState({handlingFormAction:!0}),i.runAction().catch((function(){e.setState({handlingFormAction:!1}),e.tryFocusOnInvalidNode()}))},e}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.actionId,n=e.children,r=e.getAriaPropsFromFormAction,o=this.state.handlingFormAction;return n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onClick:t?this.onClick:null,handlingFormAction:o,ariaProps:r(t)},this.props))}}])&&Bt(t.prototype,n),r&&Bt(t,r),i}(r.Component);Xt.defaultProps={actionId:null};var Yt=Object(o.b)((function(e){return{getAriaPropsFromFormAction:_.a(e)}}))(Xt),Qt=function(e){var t=e.showSpinner,n=e.showOverlay;return t?"\n      ".concat(n?"&:before {\n              content: '';\n              display: block;\n              top: 0;\n              left: 0;\n              position: absolute;\n              background-color: black;\n              width: 100%;\n              height: 100%;\n              opacity: 0.5;\n              }":"","\n      &:after {\n        content: '';\n        box-sizing: border-box;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 20px;\n        height: 20px;\n        margin-top: -10px;\n        margin-left: -10px;\n        border-radius: 50%;\n        border: 3px solid transparent;\n        border-top-color: #fff;\n        border-left-color: #fff;\n        animation: spinner 1s linear infinite;\n      }\n\n      @keyframes spinner {\n        to {transform: rotate(360deg);}\n      }\n      "):""};function Zt(){return(Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function en(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var tn=Object(c.c)((function(e){e.width;var t=e.hasAction,n=en(e,["width","hasAction"]);return t?r.default.createElement(At.d,n):r.default.createElement(At.e,n)})).withConfig({displayName:"Image__ImageContent",componentId:"h5o7fd-0"})(["&&{&,img{max-width:100%;width:",";height:",";cursor:",";}&:focus{box-shadow:0 0 5px ",";}}"],(function(e){var t=e.width;return"".concat(t,"px")}),(function(e){var t=e.imageRatio,n=e.width;return n?"auto":"".concat(n*t,"px")}),(function(e){return e.showCursor?"pointer":"initial"}),(function(e){return e.theme.focusColor})),nn=Object(c.c)(At.b).withConfig({displayName:"Image__SpinnerContainer",componentId:"h5o7fd-1"})(["&&{position:relative;display:flex;align-items:center;width:100%;height:auto;",";}"],Qt),rn=Object(c.c)(At.b).withConfig({displayName:"Image__ImageContainer",componentId:"h5o7fd-2"})(["&&{display:flex;align-items:center;width:100%;height:auto;}"]),on=function(e){var t=e.isDesignWorkflow,n=e.formVersionCId,o=e.component,i=o.data,c=i.image,a=i.styling,u=i.altText,s=o.actionId;return r.default.createElement(rn,null,t&&Object(J.a)(c)?r.default.createElement(qt,null):c&&r.default.createElement(Yt,{actionId:s,formVersionCId:n},(function(e){var n=e.onClick,o=e.handlingFormAction,i=e.ariaProps;return r.default.createElement(nn,{onClick:n,showSpinner:o},r.default.createElement(tn,Zt({imageRatio:c.height/c.width,width:a.width||100,src:c.url,alt:u,showCursor:!!n,hasAction:!!s,tabIndex:t||!s?-1:0},i)))})))};on.defaultProps={isDesignWorkflow:!1};var cn=on,an=n("../../node_modules/parchment/dist/parchment.js"),un=n.n(an),sn=n("../../node_modules/quill/core.js"),ln=n("../../node_modules/quill/formats/size.js"),fn=n("../../node_modules/quill/formats/font.js"),pn=n("../../node_modules/quill/formats/color.js"),dn=n("../../node_modules/quill/formats/background.js"),mn=n("../../node_modules/quill/formats/align.js"),yn=n("../../node_modules/quill/formats/bold.js"),bn=n("../../node_modules/quill/formats/italic.js"),hn=n("../../node_modules/quill/formats/strike.js"),gn=n("../../node_modules/quill/formats/underline.js"),vn=n("../../node_modules/quill/formats/link.js"),On=n("../../node_modules/quill/formats/list.js"),jn=n("../forms/src/Constants/fonts.ts");n("../../node_modules/core-js/modules/es6.reflect.get.js");function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return(In="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Pn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pn(e);if(t){var o=Pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kn(this,n)}}function kn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var En=function(e){var t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cn(e,t)}(i,e);var t,n,r,o=xn(i);function i(){return Sn(this,i),o.apply(this,arguments)}return t=i,r=[{key:"create",value:function(e){var t=e.alt,n=e.url,r=e.width,o=e.height,c=In(Pn(i),"create",this).call(this);return c.setAttribute("alt",t),c.setAttribute("src",n),c.setAttribute("width",r),c.setAttribute("height",o),c.setAttribute("style","width:".concat(r,"; height:").concat(o,";")),c}},{key:"value",value:function(e){return{alt:e.getAttribute("alt"),url:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height")}}}],(n=null)&&_n(t.prototype,n),r&&_n(t,r),i}(e.Embed);return t.blotName="image",t.tagName="img",t};n("../forms/src/Client/Components/FormComponents/RichText/editorCSS.scss");function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fn(e);if(t){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vn(this,n)}}function Vn(e,t){return!t||"object"!==Tn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ln.a.whitelist=jn.b,fn.a.whitelist=void 0,sn.a.register(ln.a),sn.a.register(fn.a),sn.a.register(yn.a),sn.a.register(bn.a),sn.a.register(vn.a),sn.a.register(gn.a),sn.a.register(hn.a),sn.a.register(pn.b),sn.a.register(dn.a),sn.a.register(mn.b),sn.a.register(On.b),sn.a.register(On.a),sn.a.register(En(un.a),!0);var Nn=c.c.div.attrs((function(e){var t=e.className;return{className:"".concat(t," ").concat(d.m," ").concat(d.k)}})).withConfig({displayName:"RichText__StyledQuillContainer",componentId:"sc-11o3xhj-0"})(["&&{&&&{width:100%;.ql-editor{align-self:flex-start;padding:0;}.ql-container{border:none;p,a{font-size:14px;}}.ql-clipboard{display:none;}}}"]),Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(c,e);var t,n,o,i=Dn(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).quillRef=Object(r.createRef)(),t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props.component;this.quill=new sn.a(this.quillRef.current,{readOnly:!0,debug:"error"}),this.quill.setContents(e.data.content.ops||[])}},{key:"render",value:function(){var e=this.props.component;return this.quill&&this.quill.setContents(e.data.content.ops||[]),r.default.createElement(Nn,null,r.default.createElement("div",{className:"ql-snow",ref:this.quillRef}))}}])&&An(t.prototype,n),o&&An(t,o),c}(r.Component),Wn=(n("../../node_modules/core-js/modules/es6.array.find.js"),n("../../node_modules/lodash-es/isEqual.js")),qn=n("../../node_modules/lodash-es/uniqueId.js"),zn=n("../../node_modules/lodash-es/isUndefined.js"),Mn=n("../forms/src/Client/Components/ResetElements/CleaveInput.tsx"),Ln=n("../forms/src/Client/Components/FormComponents/Label.js"),Un=n("../forms/src/Client/Components/FormComponents/ValidationMessage.js");function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xn(e);if(t){var o=Xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jn(this,n)}}function Jn(e,t){return!t||"object"!==Bn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Qn=Object(c.c)((function(e){var t=e.componentType,n=Yn(e,["componentType"]);return t===d.c?r.default.createElement(Mn.a,n):r.default.createElement(At.f,n)})).withConfig({displayName:"TextInput__FormStyledTextInput",componentId:"sc-1o6de9f-0"})(["&&{&&&{box-sizing:border-box;border-radius:2px;padding-left:16px;padding-right:0px;padding-top:0px;padding-bottom:0px;height:","px;text-align:left;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;background-color:",";border:1px solid;border-color:",";&:hover{border-color:",";}&:focus{border:1px solid ",";box-shadow:0 0 5px ",";}::placeholder{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;}::-moz-placeholder{line-height:","px;}::-moz-placeholder{line-height:","px;}}}"],(function(e){return e.theme.inputStyles.textStyles.height}),(function(e){return e.theme.inputStyles.textStyles.formInputTextColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.inputBackgroundColor}),(function(e){var t=e.valid;return e.theme.inputStyles.border[t?"defaultColor":"errorColor"]}),(function(e){return e.theme.inputStyles.border.activeColor}),(function(e){var t=e.valid;return e.theme.inputStyles.border[t?"activeColor":"errorColor"]}),(function(e){return e.theme.focusColor}),(function(e){return e.theme.inputStyles.textStyles.placeholderColor}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing}),(function(e){return e.theme.inputStyles.textStyles.height}),(function(e){return e.theme.inputStyles.textStyles.height})),Zn=Object(c.c)(At.b).withConfig({displayName:"TextInput__StyledInputContainer",componentId:"sc-1o6de9f-1"})(["&&{display:flex;flex-grow:1;flex-direction:column;align-self:flex-end;}"]),er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(c,e);var t,n,o,i=$n(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).getPrefilledEmail=function(){var e=t.props.component.data.prefill,n=Object(L.b)();if(e&&n){var r=n.$email;t.setInputValue({value:r,validate:!1})}},t.setInputValue=function(e){var n=e.value,r=e.validate,o=e.hasChangedSinceLastValidation,i=t.props,c=i.component,a=c.componentId,u=c.componentType,s=c.data,l=s.format,f=s.delimiter,p=i.formVersionCId;t.setState({value:n,focusing:!1,hasChangedSinceLastValidation:o}),t.props.setComponentValue({formVersionCId:p,componentId:a,value:u===d.c?d.d.find((function(e){var t=e.value;return Object(Wn.a)(t,l)})).convertValue(n,f):n,validate:r})},t.getAriaLabel=function(){var e,n=t.props.component,r=n.data,o=r.label,i=r.placeholder,c=n.componentType;return e=c===d.c?"date":c===d.f?"email":"text",o||i||e},t.getInputTypeForComponentType=function(e){switch(e){case d.f:return"email";case d.j:return"tel";default:return"text"}},t.state={value:void 0,focusing:!1},t._ariaLabel=t.getAriaLabel(),t.componentAriaID=Object(qn.a)("klaviyo_ariaid_"),t}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.component,n=t.componentType,r=t.data.prefill,o=e.runValidations;n===d.f&&r&&o&&this.getPrefilledEmail()}},{key:"render",value:function(){var e=this,t=this.props,n=t.componentInstance,o=t.component,i=o.data,c=i.styling,a=i.label,u=i.placeholder,s=i.format,l=i.delimiter,f=o.componentType,p=t.runValidations,m=t.isDesignWorkflow,y=t.formVersionCId,b=this.state,h=b.focusing,g=b.hasChangedSinceLastValidation,v=b.value,O=g||!1===p||!n||Object(zn.a)(n.valid)||n.valid,j=f!==d.c||u&&!h?u:d.d.find((function(e){var t=e.value;return Object(Wn.a)(t,s)})).label.replace(/ /g,l);return r.default.createElement(Zn,null,r.default.createElement(Ln.a,null,a),r.default.createElement(Qn,{type:this.getInputTypeForComponentType(f),name:f===d.f?"email":null,tabIndex:m?-1:0,styling:c,componentType:f,placeholder:j,"aria-label":this._ariaLabel,"aria-invalid":!O,"aria-describedby":O?void 0:this.componentAriaID,onBlur:function(t){return e.setInputValue({value:t.target.value,validate:!0,hasChangedSinceLastValidation:!1})},onChange:function(t){return e.setInputValue({value:t.target.value,validate:!1,hasChangedSinceLastValidation:!0})},onFocus:function(){return e.setState({focusing:!0})},valid:O?1:0,options:f===d.c?{date:!0,datePattern:s,delimiter:l}:{delimiter:""},value:v||""}),p&&!g&&r.default.createElement(Un.a,{formVersionCId:y,componentAriaID:this.componentAriaID,componentInstance:n}))}}])&&Gn(t.prototype,n),o&&Gn(t,o),c}(r.Component);er.defaultProps={componentInstance:null,runValidations:!0};var tr={setComponentValue:C.e},nr=Object(o.b)((function(e,t){var n=t.formVersionCId,r=t.component.componentId;return{componentInstance:$.d(e,n,r),runValidations:!l.d(e)}}),tr)(er),rr=n("../forms/src/Constants/defaultTheme/button.ts").a.THEME_KEY,or=Object(c.c)(At.a).withConfig({displayName:"Button__FormStyledButton",componentId:"p2mbjt-0"})(["&&{&&&{position:relative;"," background:",";border-radius:","px;border-style:",";border-color:",";border-width:","px;color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;line-height:1;white-space:normal;padding-top:11px;padding-bottom:11px;text-align:center;word-break:break-word;align-self:flex-end;cursor:pointer;&:focus{box-shadow:0 0 5px ",";}"," ","}}"],(function(e){return e.theme[rr].fullWidth?"width: 100%;":"padding-left: 10px; padding-right: 10px;"}),(function(e){return e.theme[rr].backgroundColor}),(function(e){return e.theme[rr].borderRadius}),(function(e){return e.theme[rr].borderStyle}),(function(e){return e.theme[rr].borderColor}),(function(e){return e.theme[rr].borderWidth}),(function(e){return e.theme[rr].textStyles.color}),(function(e){return e.theme[rr].textStyles.fontFamily}),(function(e){return e.theme[rr].textStyles.fontSize}),(function(e){return e.theme[rr].textStyles.fontWeight}),(function(e){return e.theme[rr].textStyles.letterSpacing}),(function(e){return e.theme.focusColor}),(function(e){var t=e.theme;return!1!==t[rr].specifyHoverBackgroundColor&&"\n    &:hover {\n      background-color: ".concat(t[rr].hoverBackgroundColor,";\n      color: ").concat(t[rr].hoverTextColor||t[rr].textColor,";\n    }\n  }")}),Qt),ir=function(e){var t=e.component,n=t.data.content,o=t.actionId,i=e.formVersionCId,c=e.isDesignWorkflow;return r.default.createElement(Yt,{formVersionCId:i,actionId:o},(function(e){var t=e.onClick,o=e.handlingFormAction;return r.default.createElement(or,{type:"button",onClick:t,showSpinner:o,tabIndex:c?-1:0},n)}))};ir.defaultProps={isDesignWorkflow:!1};var cr=Object(o.b)((function(e){return{isDesignWorkflow:l.d(e)}}))(ir);function ar(){return(ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ur(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var sr=function(e){var t=e.fillColor;return r.default.createElement("g",{id:"checkboxInner",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"checkbox_on",transform:"translate(3.000000, 4.000000)",fill:"#303B43"},r.default.createElement("polygon",{id:"Shape",fill:t,points:"4.45454545 9.20149254 1.11363636 5.75373134 0 6.90298507 4.45454545 11.5 14 1.64925373 12.8863636 0.5"})))},lr=function(e){var t=e.fillColor;return r.default.createElement("g",{id:"radioInner",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.default.createElement("g",{id:"Group-17-Copy",transform:"translate(4.000000, 4.000000)",fill:"#303B43"},r.default.createElement("circle",{fill:t,id:"Oval-Copy",cx:"6",cy:"6",r:"5.55555556"})))},fr=Object(c.c)((function(e){var t=e.selectorType,n=e.fillColor,o=ur(e,["selectorType","fillColor"]);return r.default.createElement("svg",ar({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},o),r.default.createElement("defs",null),"radio"===t?r.default.createElement(lr,{fillColor:n}):r.default.createElement(sr,{fillColor:n}))})).attrs((function(e){return{fillColor:e.theme.inputStyles.textStyles.formInputTextColor}})).withConfig({displayName:"SelectorInner__StyledInner",componentId:"sc-1g8mcs6-0"})(["&&{input[type='radio']:checked + label > &&&,input[type='checkbox']:checked + label > &&&{display:inline-block;}&&&{display:none;position:absolute;margin:0px;}}"]);function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var mr=function(e){var t=e.backgroundColor;return r.default.createElement("g",null,r.default.createElement("g",null,r.default.createElement("rect",{strokeWidth:"1",x:"0.5",y:"0.5",width:"19",height:"19",rx:"2.22222222",fill:t})))},yr=function(e){var t=e.backgroundColor;return r.default.createElement("g",null,r.default.createElement("g",null,r.default.createElement("circle",{strokeWidth:"1",cx:"10",cy:"10",r:"9.5",fill:t})))},br=Object(c.c)((function(e){var t=e.selectorType,n=(e.valid,e.backgroundColor),o=dr(e,["selectorType","valid","backgroundColor"]);return r.default.createElement("svg",pr({width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},o),"radio"===t?r.default.createElement(yr,{backgroundColor:n}):r.default.createElement(mr,{backgroundColor:n}))})).attrs((function(e){return{backgroundColor:e.theme.inputStyles.inputBackgroundColor}})).withConfig({displayName:"SelectorOuter__StyledOuter",componentId:"sc-1bzxisr-0"})(["&&{stroke:",";input:focus + label > &{filter:",";stroke:",";}margin-right:8px;min-width:20px;width:auto;height:auto;}"],(function(e){var t=e.theme;return e.valid?t.inputStyles.border.defaultColor:t.inputStyles.border.errorColor}),(function(e){var t=e.theme;return"drop-shadow( 0px 0px 2px ".concat(t.focusColor,")")}),(function(e){return e.theme.inputStyles.border.activeColor}));function hr(e){return(hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wr(e);if(t){var o=wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(e,t){return!t||"object"!==hr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sr=Object(c.c)(At.b).withConfig({displayName:"MultiInputField__Text",componentId:"ia4fu4-0"})(["&&{color:",";font-family:",";font-size:",";font-weight:",";letter-spacing:","px;margin-right:24px;display:flex;position:relative;top:1px;}"],(function(e){return e.theme.inputStyles.textStyles.color}),(function(e){return e.theme.inputStyles.textStyles.fontFamily}),(function(e){return e.theme.inputStyles.textStyles.fontSize}),(function(e){return e.theme.inputStyles.textStyles.fontWeight}),(function(e){return e.theme.inputStyles.textStyles.letterSpacing})),_r=Object(c.c)(At.g).withConfig({displayName:"MultiInputField__OptionContainer",componentId:"ia4fu4-1"})(["&&{display:flex;align-items:center;flex:",";padding-bottom:8px;cursor:pointer;word-break:break-word;max-width:100%;cursor:pointer;> *{cursor:pointer;}}"],(function(e){return e.theme.inputStyles.arrangement===d.a?" 1 0 100%":" 0 0 auto"})),Ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(c,e);var t,n,o,i=Or(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._id=Object(qn.a)("".concat(e.name,"__")),t}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.componentType,o=e.isValid,i=e.name,c=e.onChange,a=e.tabIndex,u=e.componentAriaID,s=n===d.l?"radio":"checkbox";return r.default.createElement(r.default.Fragment,null,r.default.createElement(At.f,{style:{position:"absolute",width:0,opacity:"0"},tabIndex:a,type:s,id:this._id,name:i,onChange:c,"aria-invalid":!o,"aria-label":this._ariaLabel,"aria-describedby":u}),r.default.createElement(_r,{htmlFor:this._id},r.default.createElement(br,{valid:o,selectorType:s,"aria-hidden":"true"}),r.default.createElement(fr,{selectorType:s,"aria-hidden":"true"}),r.default.createElement(Sr,null,t)))}}])&&gr(t.prototype,n),o&&gr(t,o),c}(r.default.Component);Ir.defaultProps={isValid:!0};var Cr=Ir;function xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Ar=Object(c.c)(Ln.a).withConfig({displayName:"MultiInput__StyledLabel",componentId:"sc-1p97cfc-0"})(["&&{margin-right:8px;margin-bottom:8px;}"]),Rr=Object(c.c)(At.b).withConfig({displayName:"MultiInput__Container",componentId:"sc-1p97cfc-1"})(["&&{align-self:flex-end;",";}"],(function(e){return e.theme.inputStyles.arrangement===d.a?"\n  display: block;\n":"\n  flex-direction: column;\n  flex-wrap: wrap;\n"})),Dr=Object(c.c)(At.b).withConfig({displayName:"MultiInput__AllOptionsContainer",componentId:"sc-1p97cfc-2"})(["&&{"," input:focus + label > svg circle,input:focus + label > svg rect{stroke:",";}}"],(function(e){return e.theme.inputStyles.arrangement===d.a?"\n        display: block;\n      ":"\n      display: inline-flex;\n      justify-content: flex-start;\n      flex-wrap: wrap;\n      "}),(function(e){return e.theme.inputStyles.activeBorderColor})),Vr=function(e){var t=e.options,n=e.componentType,r=e.toggledOptionIndex;return t.reduce((function(e,t,o){var i=t.selected,c=t.id,a=t.label,u=Tr(t,["selected","id","label"]),s=n!==d.l&&i;return r===o&&(s=!s),e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(n),!0).forEach((function(t){Er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selected:s,label:a,id:c||Object(qn.a)("".concat(a,"__"))},u)),e}),[])},Fr=function(e){var t=e.componentInstance,n=e.formVersionCId,o=e.component,i=o.componentId,c=o.data,a=c.fieldId,u=c.label,s=c.options,l=o.componentType,f=e.runValidations,p=e.setComponentValue,m=e.isDesignWorkflow,y=xr(Object(r.useState)([]),2),b=y[0],h=y[1];Object(r.useEffect)((function(){h(Vr({options:s,componentType:l}))}),[s]);var g=Object(r.useMemo)((function(){var e=Object(qn.a)("".concat(a,"__"));return{inputName:e,labelId:"kl_".concat(e,"_label")}}),[]),v=g.inputName,O=g.labelId,j=!1===f||!t||Object(zn.a)(t.valid)||t.valid;return r.default.createElement(Rr,null,r.default.createElement(Ar,{id:O},u),r.default.createElement(Dr,{role:l===d.l?"radiogroup":"group","aria-labelledby":O},b.map((function(e,t){var o=e.label,c=e.id;return r.default.createElement(Cr,{key:c,name:v,label:o,isValid:j,componentType:l,componentAriaID:O,onChange:function(){return function(e){var t=Vr({options:b,componentType:l,toggledOptionIndex:e});h(t);var r=function(e){return e.filter((function(e){return e.selected})).map((function(e){return e.value||e.label}))}(t);p({formVersionCId:n,componentId:i,value:l===d.l?r.toString():r})}(t)},tabIndex:m?-1:0})}))),f&&r.default.createElement(Un.a,{formVersionCId:n,componentAriaID:O,componentInstance:t}))};Fr.defaultProps={componentInstance:null,isDesignWorkflow:!1};var Nr,Hr={setComponentValue:C.e},Wr=Object(o.b)((function(e,t){var n=t.formVersionCId,r=t.component.componentId;return{componentInstance:$.d(e,n,r),runValidations:!l.d(e)}}),Hr)(Fr);function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){Jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(e,t){return!t||"object"!==qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,a=e[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qr={outer:{right:"0 0 0 auto",left:"0 auto 0 0",center:"0 auto"},inner:{right:"flex-end",left:"flex-start",center:"center"}};function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return r.default.createElement(r.default.Fragment,null)};function n(n){var o=Xr(r.default.useState(0),2),i=o[0],c=o[1],a=r.default.useCallback((function(){return c((function(e){return e<5?e+1:e}))}),[]),u=r.default.useMemo((function(){return r.default.lazy((function(){return e().catch((function(){return{default:function(){return a(),r.default.createElement(r.default.Fragment,null)}}}))}))}),[e,i]);return r.default.createElement(r.default.Suspense,{fallback:r.default.createElement(t,null)},r.default.createElement(u,n))}return n.displayName="LazyLoader",n}var eo=(Jr(Nr={},d.g,cn),Jr(Nr,d.n,Hn),Jr(Nr,d.o,nr),Jr(Nr,d.f,nr),Jr(Nr,d.j,Zr((function(){return Promise.all([n.e(2),n.e(11),n.e(4)]).then(n.bind(null,"../forms/src/Client/Components/FormComponents/PhoneNumberInput/index.js"))}))),Jr(Nr,d.b,cr),Jr(Nr,d.i,Wr),Jr(Nr,d.l,Wr),Jr(Nr,d.c,nr),Jr(Nr,d.e,Zr((function(){return Promise.all([n.e(2),n.e(3)]).then(n.bind(null,"../forms/src/Client/Components/FormComponents/Dropdown/index.js"))}))),Nr),to=Object(c.c)(At.b).attrs((function(e){var t=e.theme[Vt.a.THEME_KEY],n=e.formComponentStyling;return{formComponentTheme:Object(s.a)({},t,n)}})).withConfig({displayName:"FormComponent__StyledFormComponentWrapper",componentId:"e0xun6-0"})(["&&{display:flex;justify-content:",";",";position:relative;",";"," flex:",";",";}"],(function(e){var t=e.innerAlignment;return Qr.inner[t]||"flex-start"}),(function(e){var t=e.formComponentTheme.padding,n=t.top,r=t.right,o=t.bottom,i=t.left;return"\n  padding: ".concat(n||0,"px ").concat(r||0,"px ").concat(o||0,"px ").concat(i||0,"px;\n  ")}),(function(e){var t=e.formComponentTheme.blockBackgroundColor;return t?"background-color: ".concat(t,";"):""}),(function(e){return e.isHovering&&"cursor: pointer;"}),(function(e){return!1!==e.fullWidth?"1 0 0":"0 1 auto"}),(function(e){var t=e.alignment;return!1===e.fullWidth&&"margin: ".concat(t&&Qr.outer[t]||"")})),no=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(a,e);var t,n,o,i=Gr(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).setActiveComponent=function(e){var n=e.componentId;return t.props.setActiveComponent({componentId:n})},t.setHoveringTrue=function(){var e=t.props,n=e.dragFinished,r=e.setDragState;n?r(!1):t.state.isHovering||t.setState({isHovering:!0})},t.setHoveringFalse=function(){t.setState({isHovering:!1})},t.state={styledFormComponentWrapperRef:null,isHovering:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.component,o=t.formVersionCId,i=t.rowDroppableHover,a=t.componentPosition,u=t.isDesignWorkflow,s=t.isPreview,l=t.dragAndDrop,f=t.setDragState,p=t.activeComponentId,d=t.isLastComponent,m=t.formTypeDirection,y=t.componentTheme,b=this.state,h=b.styledFormComponentWrapperRef,g=b.isHovering,v=eo[n.componentType],O=p===n.componentId,j=!s&&g&&u&&!d,w={component:n,fullWidth:n.data.styling.fullWidth,alignment:n.data.styling.alignment,formComponentStyling:{padding:n.data.styling.padding,blockBackgroundColor:n.data.styling.blockBackgroundColor},innerAlignment:n.data.styling.innerAlignment};return u&&(w=Lr(Lr({},w),{},{isDesignWorkflow:u,active:O,isHovering:g,onClick:function(){return e.setActiveComponent(n)},onMouseOver:this.setHoveringTrue,onMouseLeave:this.setHoveringFalse,onDragStart:this.setHoveringFalse,onDragEnd:function(){f(!0)},ref:function(t){e.state.styledFormComponentWrapperRef||e.setState({styledFormComponentWrapperRef:t})}})),r.default.createElement(to,zr({},w,{"data-testid":"form-component",className:"notranslate"}),l&&!s&&u&&r.default.createElement(void 0,{show:j,active:O,componentId:n.componentId,onMouseLeave:this.setHoveringFalse,insideComponent:null!==m&&m.endsWith("LEFT")}),l&&!s&&h&&u&&r.default.createElement(void 0,{component:n,position:a,elementRef:h}),r.default.createElement(c.a,{theme:y},r.default.createElement(v,{isDesignWorkflow:u,component:n,formVersionCId:o})),l&&!s&&u&&r.default.createElement(void 0,{component:n,position:a,rowDroppableHover:i,isHovering:g,active:O}))}}])&&Ur(t.prototype,n),o&&Ur(t,o),a}(r.Component);no.defaultProps={isPreview:!1,isDesignWorkflow:!1,activeComponentId:null,formTypeDirection:null};var ro={setActiveComponent:function(e){var t=e.componentId;return function(e,n){l.d(n())&&e({type:Ft.DESIGNER_ACTIVE_COMPONENT_UPDATE,componentId:t})}}},oo=Object(o.b)((function(e,t){var n=t.formVersionCId,r=t.component.componentId,o=$.c(e,n),i=o.currentViewId,c=o.formVersionId;return{isPreview:Nt.e(e),dragAndDrop:Ht.b(e)!==Dt.d,activeComponentId:Ht.a(e),formTypeDirection:S.c(e,c),isLastComponent:f.j(e,i),componentTheme:w(e,i,r)}}),ro)(no);function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lo(e);if(t){var o=lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return so(this,n)}}function so(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fo=Object(c.c)(At.b).withConfig({displayName:"Row__FormRow",componentId:"sc-17nghml-0"})(["&&{display:flex;flex-direction:row;align-items:stretch;position:relative;",";}"],(function(e){return e.hoverDirection&&"\n    border-".concat(e.hoverDirection,": 2px;\n    border-").concat(e.hoverDirection,"-style: solid;\n    border-").concat(e.hoverDirection,"-color: ").concat(e.theme.klPrimary,";\n    margin-").concat(e.hoverDirection,": -2px;\n  ")})),po=Object(c.c)((function(){})).withConfig({displayName:"Row__StyledFullDropIcon",componentId:"sc-17nghml-1"})(["&&{position:absolute;left:50%;margin-left:-6px;z-index:4;",":0px;margin-",":",";}"],(function(e){return e.hoverDirection}),(function(e){return e.hoverDirection}),(function(e){return"bottom"===e.hoverDirection?e.theme.spacingXSmall:"-10px"})),mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(c,e);var t,n,o,i=uo(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).setDragState=function(e){t.setState({dragFinished:e})},t.rowDroppableHover=function(e,n){var r,o,i;t.setState((r={},o="".concat(e,"Hover"),i=n,o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r))},t.props=e,t.state={topHover:!1,bottomHover:!1,dragFinished:!1},t}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.componentIds,o=t.components,i=t.formVersionCId,c=t.isDesignWorkflow,a=this.state,u=a.topHover,s=a.bottomHover,l=a.dragFinished,f=(u?"top":s&&"bottom")||!1;return n.length>0&&r.default.createElement(fo,{hoverDirection:f,"data-testid":"form-row"},n.map((function(t,n){return r.default.createElement(oo,{key:t,component:o[t],componentPosition:n,formVersionCId:i,rowDroppableHover:e.rowDroppableHover,isDesignWorkflow:c,setDragState:e.setDragState,dragFinished:l})})),f&&r.default.createElement(po,{hoverDirection:f}))}}])&&co(t.prototype,n),o&&co(t,o),c}(r.Component);mo.displayName="Row",mo.defaultProps={isDesignWorkflow:!1};var yo=Object(o.b)((function(e,t){return{components:Object(i.a)(f.g(e),t.componentIds),isDesignWorkflow:l.d(e)}}))(mo),bo=Object(c.c)(At.b).withConfig({displayName:"Column__FormColumn",componentId:"z5j99u-0"})(["&&{display:flex;flex-direction:column;width:100%;}"]),ho=Object(o.b)((function(e,t){return{rows:Object(i.a)(Tt.b(e),t.rowIds)}}))((function(e){var t=e.rowIds,n=e.rows,o=e.formVersionCId;return t.length>0&&r.default.createElement(bo,null,t.map((function(e){return r.default.createElement(yo,{key:e,componentIds:n[e].components,formVersionCId:o})})))}));function go(e,t,n,r,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function vo(){return(vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oo={left:"float: left",center:"margin: 0 auto",right:"float: right"},jo=Object(c.c)(At.c).withConfig({displayName:"View__FormView",componentId:"sc-1ou3cq2-0"})(["&&{display:flex;flex-direction:row;box-sizing:border-box;"," border-radius:","px;border-style:",";border-width:","px;border-color:",";background-color:",";background-image:",";background-repeat:no-repeat;background-size:",";background-position-x:",";background-position-y:center;",";}"],(function(e){var t=e.theme,n=t.size,r=t.isMaxWidth,o=t.embedAlignment;return e.isEmbed?"width: 100%;\n        ".concat(r?"max-width: ".concat(n,"px;"):"","\n        ").concat(o?"".concat(Oo[o],";"):"","\n        "):"\n        width: ".concat(n,"px;\n        min-width: ").concat(Pt.b,"px;\n        max-width: ").concat(Pt.a,"px;\n        ")}),(function(e){return e.theme.borderRadius}),(function(e){return e.theme.borderStyle}),(function(e){return e.theme.borderWidth||0}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.backgroundColor}),(function(e){var t=e.theme;return t.backgroundImage&&"url(".concat(t.backgroundImage.url,")")}),(function(e){var t=e.theme;return t.backgroundImage&&("custom"===t.backgroundImage.position?"".concat(t.backgroundImage.customWidth,"px;"):t.backgroundImage.position)}),(function(e){var t=e.theme;return t.backgroundImage&&t.backgroundImage.alignment}),(function(e){var t=e.theme.padding,n=t.top,r=t.right,o=t.bottom,i=t.left;return"\n  padding-top: ".concat(n,"px;\n  padding-right: ").concat(r,"px;\n  padding-bottom: ").concat(o,"px;\n  padding-left: ").concat(i,"px;\n  ")})),wo=Object(c.c)((function(e){return r.default.createElement(At.f,vo({type:"submit",tabIndex:"-1",value:"Submit"},e))})).withConfig({displayName:"View__HiddenSubmit",componentId:"sc-1ou3cq2-1"})(["&&{&&&{display:none;}}"]),So=function(e){var t=e.isEmbed,n=e.columnIds,o=e.columns,i=e.formVersionCId,a=e.submitFormActions,u=e.formType,s=e.viewTheme,l=Object(r.useRef)(null);return Object(r.useEffect)((function(){u===Et.c&&l.current&&l.current.focus()}),[l]),r.default.createElement(c.a,{theme:s},r.default.createElement(jo,{className:"klaviyo-form-version-cid_".concat(i),noValidate:!0,isEmbed:t,ref:l,tabIndex:"-1",onSubmit:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),1===a.length){e.next=3;break}return e.abrupt("return",!1);case 3:return n=a[0].actionId,r=kt({actionId:n}),e.next=7,new r({actionId:n,formVersionCId:i}).runAction();case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){go(i,r,o,c,a,"next",e)}function a(e){go(i,r,o,c,a,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()},n.map((function(e){return r.default.createElement(ho,{key:e,rowIds:o[e].rows,formVersionCId:i})})),r.default.createElement(wo,null)))};So.defaultProps={isEmbed:!1};t.default=Object(o.b)((function(e,t){var n=t.columnIds,r=t.viewId,o=a.a(e,r);return{columns:Object(i.a)(u.b(e),n),viewTheme:O(e,r),formType:S.b(e,o.formVersionId),submitFormActions:_.e(e,r)}}))(So)}}]);
